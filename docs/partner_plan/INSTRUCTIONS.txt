# CPR BUILD KIT â€” INSTRUCTIONS
**Total Time**: 90 minutes | **Output**: Working prototype with demo case

---

## ðŸ“‚ FILES YOU HAVE
1. **CPR-AI-Ready-Spec.md** â€” Full reference spec (upload to Antigravity)
2. **Phase1-Database-Schema.txt** â€” Copy-paste prompt #1
3. **Phase2-Core-Pages.txt** â€” Copy-paste prompt #2
4. **Phase3-Voting-Realtime.txt** â€” Copy-paste prompt #3
5. **Phase4-Safety-i18n.txt** â€” Copy-paste prompt #4
6. **This file** â€” Your step-by-step guide

---

## ðŸš€ STEP-BY-STEP INSTRUCTIONS

### SETUP (5 minutes)
1. Go to **Antigravity.ai** â†’ Click "New Project"
2. Name it: **"CPR Court"**
3. Click **"Upload files"** â†’ Upload **CPR-AI-Ready-Spec.md**
4. Connect your **Supabase project**:
   - Go to Supabase dashboard â†’ Settings â†’ API
   - Copy "Project URL"
   - Paste into Antigravity connection settings
5. âœ… Ready to start Phase 1

---

### PHASE 1: DATABASE (15 minutes)
**What you're building**: 42-table PostgreSQL schema with indexes and RLS policies

**Action**:
1. Open **Phase1-Database-Schema.txt**
2. **Copy entire contents** (Ctrl+A, Ctrl+C)
3. **Paste into Antigravity chat** â†’ Press Enter
4. **Wait 2-3 minutes** for Antigravity to generate
5. Review output:
   - [ ] schema.sql file shown?
   - [ ] Migration files created?
   - [ ] ERD diagram displayed?
   - [ ] Deploy preview link provided?

**Test**:
- Click deploy link
- Run: `SELECT * FROM defendants LIMIT 1;`
- Should return empty result (no errors)

**If broken**: Reply in chat:
```
Fix schema: Match CPR spec Layer A exactly. Check all 42 tables are present.
```

**When working**: Copy schema.sql + deploy link â†’ Email to project owner

---

### PHASE 2: PAGES & FORMS (20 minutes)
**What you're building**: Defendant page, case submission wizard, homepage

**Action**:
1. In **same Antigravity chat**, type:
```
Phase 1 complete. Ready for Phase 2.
```
2. Open **Phase2-Core-Pages.txt**
3. **Copy entire contents** â†’ Paste into chat â†’ Enter
4. **Wait 3-5 minutes** for code generation
5. Review output:
   - [ ] Next.js app/ folder structure shown?
   - [ ] /defendants/[slug] page created?
   - [ ] /cases/new wizard created?
   - [ ] Deploy preview link provided?

**Test**:
- Click deploy link
- Navigate to homepage â†’ Should load
- Try case form â†’ Should save draft (check browser console)

**If broken**: Reply:
```
Fix: Use Phase 1 schema. Defendant page should fetch from defendant_page_cache table.
```

**When working**: Share deploy URL

---

### PHASE 3: VOTING & REALTIME (20 minutes)
**What you're building**: Voting system, verdict computation, live notifications

**Action**:
1. Type in chat:
```
Phase 2 looks good. Proceed to Phase 3.
```
2. Open **Phase3-Voting-Realtime.txt**
3. **Copy entire contents** â†’ Paste â†’ Enter
4. **Wait 3-5 minutes**
5. Review output:
   - [ ] /cases/[case-number]/vote page created?
   - [ ] Edge Function for verdict computation?
   - [ ] Realtime subscriptions configured?
   - [ ] CAPTCHA integrated?

**Test**:
- Submit test vote â†’ Check votes table
- Add 400 votes (or wait for deadline) â†’ Verdict should compute
- Send notification â†’ Should appear in realtime

**If broken**: Reply:
```
Fix: Verdict should compute when guilt_score average â‰¥6 = guilty, â‰¤5 = innocent
```

**When working**: Share updated deploy URL

---

### PHASE 4: SAFETY & LANGUAGES (15 minutes)
**What you're building**: Dead Man's Switch, PDF export, 7 languages, PWA

**Action**:
1. Type in chat:
```
Phase 3 working. Final phase: Phase 4.
```
2. Open **Phase4-Safety-i18n.txt**
3. **Copy entire contents** â†’ Paste â†’ Enter
4. **Wait 3-5 minutes**
5. Review output:
   - [ ] /profile/safety page created?
   - [ ] SHA-256 hash on file upload?
   - [ ] Language switcher in header?
   - [ ] PWA manifest configured?
   - [ ] PDF export working?

**Test**:
- Activate Dead Man's Switch â†’ Check safety_switches table
- Upload evidence â†’ Verify hash stored
- Switch language â†’ UI should translate
- Install PWA on mobile â†’ Should prompt
- Export PDF â†’ Should download with QR code

**If broken**: Reply:
```
Fix: Safety switch should check next_checkin_due and alert emergency contacts after max misses.
```

**When working**: Share **FINAL deploy URL**

---

## âœ… COMPLETION CHECKLIST

After Phase 4, you should have:
- âœ… 42 tables in Supabase
- âœ… Working defendant page (/defendants/colin-james-bradley)
- âœ… Case submission wizard (/cases/new)
- âœ… Voting system with verdict computation
- âœ… Realtime notifications
- âœ… Dead Man's Switch safety system
- âœ… 7-language support
- âœ… PWA installable
- âœ… PDF case export

**Total build time**: ~90 minutes
**Final action**: Email project owner with deploy link + "CPR prototype complete"

---

## ðŸ†˜ TROUBLESHOOTING

### "Antigravity says 'Too many tables'"
**Reply**:
```
Focus on Layers A-C first (20 core tables). We'll add remaining layers after.
```

### "RLS errors blocking queries"
**Reply**:
```
Temporarily disable RLS on all tables. We'll add policies after pages work.
```

### "Pages not loading"
**Reply**:
```
Check Phase 1 schema deployed correctly. Verify Supabase connection URL is correct.
```

### "Code not matching spec"
**Reply**:
```
Re-read CPR-AI-Ready-Spec.md section [X]. Match that exactly.
```

### "Stuck for 5+ minutes"
**Reply**:
```
Show me what you have so far. Generate remaining code in next response.
```

---

## ðŸ“§ FINAL EMAIL TO PROJECT OWNER

Subject: **CPR Prototype Complete â€” Ready for Review**

Body:
```
CPR: Court of Public Record prototype is complete.

âœ… Phase 1: Database (42 tables) â€” [Schema link]
âœ… Phase 2: Core pages (defendant + case form)
âœ… Phase 3: Voting + realtime
âœ… Phase 4: Safety + i18n

ðŸ”— Live Demo: [Final deploy URL]

Test Defendant: /defendants/colin-james-bradley
Test Flow: Register â†’ Create case â†’ Vote â†’ View verdict

Total build time: 90 minutes
Tech stack: Next.js 16 + Supabase

Ready for your review and feedback.
```

---

## ðŸŽ¯ NEXT STEPS AFTER PROTOTYPE

Once project owner reviews:
1. **Open decisions**: Convergence fuzzy matching? Case numbering format?
2. **Seed data**: Add demo defendants + cases for testing
3. **Admin panel**: Build full /admin dashboard
4. **Polish**: Error handling, loading states, empty states
5. **Testing**: User testing with 10-20 people
6. **Legal**: Terms of service, privacy policy
7. **Launch**: Private beta â†’ public release

---

